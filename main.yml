<<<<<<< HEAD
  - hosts: webserver
      remote_user: vagrant
      become: yes
      become_method: sudo
      tasks:
        - name: Install pip
          apt: name=python3-apt state=present
      
        - name: install docker-py
          pip: name=docker-py
      
        - name: Build Docker image from Dockerfile
          docker_image:
            name: web
            build.path: docker
            state: present
        
        - name: Running the container
          docker_container:
            image: web:latest
            path: docker
            state: running
            
        - name: Check if container is running
          shell: docker ps
=======
- hosts: docker_machine
  gather_facts: yes
  remote_user: vagrant
  become: yes
  become_method: sudo
  tasks:
   # - name: Test connection to server
   #   ping:
   #     data: crash
    - name: Install pip
      apt: name=python-pip state=present 
    - name: install docker-py
      pip: name=docker-py
    - name: Build Docker image from Dockerfile
      docker_image:
        name: web
        path: docker
        state: build    
    - name: Running the container
      docker_container:
        image: web:latest
        path: docker
        state: running            
    - name: Check if container is running
      shell: docker ps
>>>>>>> a1bbc41508bf3c92a37285469e921ba30bf61da1
